<h1>Thanh Toán</h1>
<hr />

<div class="row">
  <div class="col-md-12">
    <h3>Thông Tin Khách Hàng</h3>

    <form #customerInfo="ngForm" (ngSubmit)="getCustomerInfo(customerInfo)">
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3 mt-3">
            <label for="name" class="form-label">Họ & Tên:</label>
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              placeholder="Ví dụ: Nguyễn Văn A"
              ngModel
              required
              #name="ngModel"
            />
            <span
              class="error"
              *ngIf="name.invalid && (name.dirty || name.touched)"
              >Họ & Tên không đúng định dạng</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3 mt-3">
            <label for="email" class="form-label">Email:</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              placeholder="Ví dụ: nguyenvana@gmail.com"
              ngModel
              required
              #email="ngModel"
            />
            <span
              class="error"
              *ngIf="email.invalid && (email.dirty || email.touched)"
              >Email không đúng định dạng</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3 mt-3">
            <label for="phone" class="form-label">Số Điện Thoại:</label>
            <input
              type="text"
              class="form-control"
              id="phone"
              name="phone"
              placeholder="Ví dụ: 0123456789"
              ngModel
              required
              #phone="ngModel"
            />
            <span
              class="error"
              *ngIf="phone.invalid && (phone.dirty || phone.touched)"
              >Số Điện Thoại không đúng định dạng</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3 mt-3">
            <label for="province" class="form-label">Tỉnh / Thành Phố:</label>
            <select
              class="form-select"
              #province
              name="province"
              id="province"
              (change)="getDictrict(province.value)"
            >
              <option value="">-Chọn-</option>
              <option value="1">Hồ Chí Minh</option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3 mt-3">
            <label for="dictrict" class="form-label">Quận / Huyện:</label>
            <select
              class="form-select"
              #dictrict
              name="dictrict"
              id="dictrict"
              (change)="getWards(dictrict.value)"
            >
              <option value="">-Chọn-</option>
              <option *ngFor="let i of arr_district" value="{{ i.id }}">
                {{ i.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-3 mt-3">
            <label for="wards" class="form-label">Phường / Xã:</label>
            <select class="form-select" name="wards" id="wards">
              <option value="">-Chọn-</option>
              <option *ngFor="let i of arr_wards" value="{{ i.id }}">
                {{ i.name }}
              </option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3 mt-3">
            <label for="address" class="form-label">Địa Chỉ:</label>
            <input
              type="text"
              class="form-control"
              id="address"
              name="address"
              placeholder="Ví dụ: 108A đường Trần Hưng Đạo"
              ngModel
              required
              #address="ngModel"
            />
            <span
              class="error"
              *ngIf="address.invalid && (address.dirty || address.touched)"
              >Địa Chỉ không đúng định dạng</span
            >
          </div>
        </div>
      </div>

      <!-- <hr />
      <button
        type="submit"
        [disabled]="customerInfo.invalid"
        class="btn btn-primary"
      >
        Login
      </button> -->
    </form>
  </div>

  <div class="row">
    <div class="col-md-6">
      <h3>Phương Thức Thanh Toán</h3>
      <ul style="list-style-type: none">
        <li>
          <input type="radio" name="pttt" checked id="" />
          Trả Tiền Khi Nhận Hàng
        </li>
        <li>
          <input type="radio" name="pttt" id="" />
          Chuyển Khoản
        </li>
        <li>
          <input type="radio" name="pttt" id="" />
          Đến Nơi Bán Nhận Hàng
        </li>
      </ul>
    </div>
    <div class="col-md-6">
      <h3>Phương Thức Giao Hàng</h3>
      <ul style="list-style-type: none">
        <li>
          <input type="radio" name="ptgh" checked id="" />
          Kerry
        </li>
        <li>
          <input type="radio" name="ptgh" id="" />
          Viettel
        </li>
        <li>
          <input type="radio" name="ptgh" id="" />
          Giao Hàng Nhanh
        </li>
        <li>
          <input type="radio" name="ptgh" id="" />
          Giao Hàng Tiết Kiệm
        </li>
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <h3>Thông Tin Sản Phẩm</h3>

      <table class="table">
        <thead>
          <tr>
            <th>Sản Phẩm</th>
            <th>Số Lượng</th>
            <th>Đơn Giá (VNĐ)</th>
            <th>Thành Tiền (VNĐ)</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let i of products">
            <td>{{ i.name }}</td>
            <td>{{ i.qty }}</td>
            <td>{{ i.price | number }}</td>
            <td>{{ i.qty * i.price | number }}</td>
          </tr>
          <tr style="font-size: 20px; font-weight: bold">
            <td colspan="3" class="text-end">Tổng Tiền (VNĐ)</td>
            <td class="text-danger" colspan="2">{{ total | number }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="d-grid gap-2 col-4 mx-auto mb-5">
    <button class="btn btn-primary" (click)="end_payment()">Thanh Toán</button>
    <a routerLink="/cart" class="btn btn-warning">Quay Lại</a>
  </div>
</div>
